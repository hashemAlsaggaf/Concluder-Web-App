<html>
	<head>
		<title>Matrix</title>
		<link href="css/tables.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<p id="result"></p>
		<div id="button">Click Here</div>
		<div id="title"></div>
		<div id="msg"></div>
		
		<div style="overflow-x:auto;">
			<table id="matrixTable">
				
			</table>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
		<script>
		
			var result = $('#result');
			var matrixTable = $('#matrixTable');
			/*
			var matrix = [
				["a", "b", "c", "d", "e"],
				["f", "g", "h", "i", "j"],
				["k", "l", "m", "n", "o"],
				["p", "q", "r", "s", "t"],
				["u", "v", "w", "x", "y"]
			];
	
			for(i = 0 ; i < 5; i++){
				for(j = i+1; j < 5; j++){
					for(k = j+1; k < 5; k++){
						result.append(matrix[i][j] + " x " + matrix[j][k] + " = " + matrix[i][k] + "<br>");
					}
				}
			}
			
			
			var siblings = ["a", "b", "c", "d", "e"];
			
			// make a matrix out of the siblings
			siblingsMatrix = [[]];
			
			for(i = 0 ; i < siblings.length ; i++){
				siblingsMatrix[i] = [];
				for(j = 0 ; j < siblings.length ; j++){
					siblingsMatrix[i][j] = 1;
				}
			}
			
			siblingsMatrix[0][1] = 4;
			siblingsMatrix[1][0] = 0.25;
			
			//show matrix in console

			console.log(siblingsMatrix);
			
			// print matrix as a table
			var table = "";
			
			for(i = 0 ; i < siblings.length; i++){
				
				if(i == 0){
					table += "<tr><td></td>";
					for(h = 0; h < siblings.length; h++){
						table += "<td>" + siblings[h] + "</td>"
					}
					table += "</tr>";
				}
				table += "<tr>";
				for(j = 0 ; j < siblings.length; j++){
					if(j == 0){
						table += "<td>" + siblings[i] + "</td>" + "<td>" + siblingsMatrix[i][j] + "</td>";
					}else{
						table += "<td>" + siblingsMatrix[i][j] + "</td>";
					}
					
				}
				table += "</tr>";
			}
			
			matrixTable.append(table);
			
			
			
			/*
			var matrix = [
				[1,2,1,1.2,1],
				[0.5,1,1,1,1],
				[1,1,1,1,3.3],
				[0.8,1,1,1,1],
				[1,1,0.3,1,1]
			];
	
			for(i = 0 ; i < 5; i++){
				for(j = i+1; j < 5; j++){
					for(k = j+1; k < 5; k++){
						x = matrix[i][j];
						y = matrix[j][k];
						z = matrix[i][k];
						result.append(x + " X " + y + " = " + z + "<br>"+
						"Inconsistancy = " + (1-Math.min((x*y)/z,z/(x*y))).toFixed(5) + "<br>");
					}
				}
			}
			
			console.log('----testing indexing----');
			var obj = {
				'a':1,
				'b':2,
				'c':3,
				'd':4
			};
			console.log(obj['x']);
			if(obj['x'] === undefined){
				console.log('Obj was detected as undefined');
			}else{
				comsole.log('You need to figure out this quick!');
			}
			*/
			
			
			
		</script>
		<script>
			//variable 'result' comes from previues script
			var testNode = {
				"HTMLid":"node_root",
				"text":{"name":"Root","weight":100},
					"parent":"",
					"children":[
						{"HTMLid":"node_1","text":{"name":"Diagrams","weight":"29.19"},"parent":"node_root","children":[],"matrix":[]},
						{"HTMLid":"node_2","text":{"name":"Comments","weight":"30.72"},"parent":"node_root","children":[],"matrix":[]},
						{"HTMLid":"node_3","text":{"name":"Implementation","weight":"27.34"},"parent":"node_root","children":[],"matrix":[]},
						{"HTMLid":"node_4","text":{"name":"Report","weight":"12.75"},"parent":"node_root","children":[],"matrix":[]}],
						"matrix":[
							[1,"2","1.5","1.2"],
							["0.50",1,"1.5","3"],
							["0.67","0.67",1,"3"],
							["0.83","0.33","0.33",1]
						]
			
			};
			function printMatrix(node, targetDiv){
				var matrix = node.matrix;
				var children = node.children;
				var elementsNames = [];
				var table = "";
				
				//get elements names in an array
				children.forEach(function(child){
					elementsNames.push(child.text.name);
				});
				
				for(i = 0 ; i < matrix.length; i++){
				
					
					for(j = 0 ; j < matrix.length; j++){
						if(i == 0 && j == 0){
							table += "<tr><td class='elementName'>~</td>";
							elementsNames.forEach(function(element){
								table += "<td class='elementName'>"+element+"</td>";
							});
							
							table += "</tr><tr>";
						
						}
						if(j == 0){
							table += "<td class='elementName'>"+elementsNames[i]+"</td>";
						}
						
						if(i != j){
							//input id = cell_ij_input
							table += "<td id='cell_"+i+j+"' data-i='"+i+"' data-j='"+j+"' onClick='cellClick(this.id)' ><input id='cell_"+i+j+"_input' class='cellInput' type='text' value='"+matrix[i][j]+"' readonly></td>";
						}else{
							table += "<td>"+matrix[i][j]+"</td>";
						}
								
					}
					table += "</tr>";
				}
				
				targetDiv.text('');
				targetDiv.append(table);
			}
			
			printMatrix(testNode, result);
			
			var button = $('#button');
			var title = $('#title');
			var msg = $('#msg');
			button.click(function(){
				title.text('Title Here');
			});
			
			button.click(function(){
				msg.text('Message Here');
			});
		</script>
	</body>
</html>
